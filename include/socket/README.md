# Обертки для сокетов
## Класс `Socket`
Класс предоставляет простую функциональность, которую предоставляет стандартный сокет. Не из классов-наследников объект типа `Socket` создать невозможно (так как конструктор `protected`). В принципе, класс нужен только для предоставления уровня абстракции, реализации некоторых общих функций и для удобства использования. В деструкторе этого класса закрывается соответствующий сокету файловый дескриптор. Еще класс запрещает копирование, поэтому наследники также автоматически запрещают копирование.

## Класс `ListenerSocket`
Класс предоставляет функциональность для создания сокета, который будет принимать входящие соединения. Наследуется от класса `Socket`.
- `ListenerSocket(uint16_t port, int max_connections)` - конструктор, создающий сокет, который будет принимать входящие соединения на порту `port` с максимальным количеством соединений `max_connections`.
- `std::shared_ptr<ClientSocket> accept_client(int timeout) const` - принимает входящее соединение. Если в течение `timeout` миллисекунд соединение не появилось, возвращает `nullptr`. Иначе возвращает указатель на объект типа `ClientSocket`, который представляет собой соединение с клиентом. В принципе, это единственный способ получить объект класса `ClientSocket` извне.
- `~ListenerSocket()` - деструктор, закрывающий чтение и запись на сокет. Сам файловый дескриптор закрывается в деструкторе класса `Socket`.

## Класс `ClientSocket`
Класс предоставляет функциональность для общения с клиентом. Наследуется от класса `Socket`. Его невозможно создать извне (конструктор `private`), так как он создается только внутри класса `ListenerSocket`. Это нужно для того, чтобы не было возможности создать объект класса `ClientSocket` без предварительного создания соединения с клиентом.
- `void send_bytes(const char* bytes_dst, size_t amount) const;` - отправляет `amount` байтов из массива `bytes_dst`.
- `void send_bytes(const std::string& bytes) const;` - отправляет строку `bytes`.
- `void send_byte(char byte) const;` - отправляет один байт.
- `void read_bytes(char* to, size_t amount) const;` - считывает `amount` байтов в массив `to`.
- `std::vector<char> read_bytes(size_t amount) const;` - считывает `amount` байтов и возвращает их в виде вектора.
- `char read_byte() const;` - считывает один байт.
- `size_t ready_to_read() const;` - возвращает количество байтов, которые можно считать без блокировки.
- `std::string get_ip() const` - возвращает ip-адрес клиента.
- `std::string get_info() const` - возвращает строку вида `IP: {ip}, сокет: {socket_fd}`.
- `~ClientSocket()` - деструктор, закрывающий чтение и запись на сокет. Сам файловый дескриптор закрывается в деструкторе класса `Socket`.